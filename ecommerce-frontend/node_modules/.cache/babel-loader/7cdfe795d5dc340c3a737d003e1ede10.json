{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: !0\n});\n\nvar env = require(\"exenv\");\n\nrequire(\"prop-types\");\n\nvar React = require(\"react\");\n\nfunction _typeof(e) {\n  return (_typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n    return typeof e;\n  } : function (e) {\n    return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n  })(e);\n}\n\nfunction _classCallCheck(e, t) {\n  if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n}\n\nfunction _defineProperties(e, t) {\n  for (var n = 0; n < t.length; n++) {\n    var r = t[n];\n    r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n  }\n}\n\nfunction _createClass(e, t, n) {\n  return t && _defineProperties(e.prototype, t), n && _defineProperties(e, n), e;\n}\n\nfunction _defineProperty(e, t, n) {\n  return t in e ? Object.defineProperty(e, t, {\n    value: n,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[t] = n, e;\n}\n\nfunction _inherits(e, t) {\n  if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n  e.prototype = Object.create(t && t.prototype, {\n    constructor: {\n      value: e,\n      writable: !0,\n      configurable: !0\n    }\n  }), t && _setPrototypeOf(e, t);\n}\n\nfunction _getPrototypeOf(e) {\n  return (_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n    return e.__proto__ || Object.getPrototypeOf(e);\n  })(e);\n}\n\nfunction _setPrototypeOf(e, t) {\n  return (_setPrototypeOf = Object.setPrototypeOf || function (e, t) {\n    return e.__proto__ = t, e;\n  })(e, t);\n}\n\nfunction _assertThisInitialized(e) {\n  if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return e;\n}\n\nfunction _possibleConstructorReturn(e, t) {\n  return !t || \"object\" != typeof t && \"function\" != typeof t ? _assertThisInitialized(e) : t;\n}\n\nvar EventSet = function () {\n  function e(t) {\n    _classCallCheck(this, e), _defineProperty(this, \"handlers\", void 0), this.handlers = t.slice(0);\n  }\n\n  return _createClass(e, [{\n    key: \"addHandlers\",\n    value: function value(t) {\n      for (var n = this.handlers.slice(0), r = t.length, o = 0; o < r; o += 1) {\n        n.push(t[o]);\n      }\n\n      return new e(n);\n    }\n  }, {\n    key: \"dispatchEvent\",\n    value: function value(e, t) {\n      var n = this.handlers.length - 1;\n\n      if (t) {\n        for (var r = n; r >= 0; r -= 1) {\n          this.handlers[r].called || (this.handlers[r].called = !0, this.handlers[r](e));\n        }\n\n        for (var o = n; o >= 0; o -= 1) {\n          this.handlers[o].called = !1;\n        }\n      } else {\n        (0, this.handlers[n])(e);\n      }\n    }\n  }, {\n    key: \"hasHandlers\",\n    value: function value() {\n      return this.handlers.length > 0;\n    }\n  }, {\n    key: \"removeHandlers\",\n    value: function value(t) {\n      for (var n = [], r = this.handlers.length, o = 0; o < r; o += 1) {\n        var a = this.handlers[o];\n        -1 === t.indexOf(a) && n.push(a);\n      }\n\n      return new e(n);\n    }\n  }]), e;\n}();\n\nfunction cloneMap(e) {\n  var t = new Map();\n  return e.forEach(function (e, n) {\n    t.set(n, e);\n  }), t;\n}\n\nfunction normalizeHandlers(e) {\n  return Array.isArray(e) ? e : [e];\n}\n\nvar isRefObject = function isRefObject(e) {\n  return null !== e && \"object\" === _typeof(e) && e.hasOwnProperty(\"current\");\n};\n\nfunction normalizeTarget(e) {\n  return \"document\" === e ? document : \"window\" === e ? window : isRefObject(e) ? e.current || document : e || document;\n}\n\nvar EventPool = function () {\n  function e(t, n) {\n    _classCallCheck(this, e), _defineProperty(this, \"handlerSets\", void 0), _defineProperty(this, \"poolName\", void 0), this.handlerSets = n, this.poolName = t;\n  }\n\n  return _createClass(e, [{\n    key: \"addHandlers\",\n    value: function value(t, n) {\n      var r = cloneMap(this.handlerSets);\n\n      if (r.has(t)) {\n        var o = r.get(t);\n        r.set(t, o.addHandlers(n));\n      } else r.set(t, new EventSet(n));\n\n      return new e(this.poolName, r);\n    }\n  }, {\n    key: \"dispatchEvent\",\n    value: function value(e, t) {\n      var n = this.handlerSets.get(e),\n          r = \"default\" === this.poolName;\n      n && n.dispatchEvent(t, r);\n    }\n  }, {\n    key: \"hasHandlers\",\n    value: function value(e) {\n      if (!e) return this.handlerSets.size > 0;\n      var t = this.handlerSets.get(e);\n      return !!t && t.hasHandlers();\n    }\n  }, {\n    key: \"removeHandlers\",\n    value: function value(t, n) {\n      var r = cloneMap(this.handlerSets);\n      if (!r.has(t)) return new e(this.poolName, r);\n      var o = r.get(t).removeHandlers(n);\n      return o.hasHandlers() ? r.set(t, o) : r.delete(t), new e(this.poolName, r);\n    }\n  }]), e;\n}();\n\n_defineProperty(EventPool, \"createByType\", function (e, t, n) {\n  var r = new Map();\n  return r.set(t, new EventSet(n)), new EventPool(e, r);\n});\n\nvar EventTarget = function () {\n  function e(t) {\n    var n = this;\n    _classCallCheck(this, e), _defineProperty(this, \"handlers\", new Map()), _defineProperty(this, \"pools\", new Map()), _defineProperty(this, \"target\", void 0), _defineProperty(this, \"createEmitter\", function (e) {\n      return function (t) {\n        n.pools.forEach(function (n) {\n          n.dispatchEvent(e, t);\n        });\n      };\n    }), this.target = t;\n  }\n\n  return _createClass(e, [{\n    key: \"addHandlers\",\n    value: function value(e, t, n) {\n      if (this.pools.has(e)) {\n        var r = this.pools.get(e);\n        this.pools.set(e, r.addHandlers(t, n));\n      } else this.pools.set(e, EventPool.createByType(e, t, n));\n\n      this.handlers.has(t) || this.addTargetHandler(t);\n    }\n  }, {\n    key: \"hasHandlers\",\n    value: function value() {\n      return this.handlers.size > 0;\n    }\n  }, {\n    key: \"removeHandlers\",\n    value: function value(e, t, n) {\n      if (this.pools.has(e)) {\n        var r = this.pools.get(e).removeHandlers(t, n);\n        r.hasHandlers() ? this.pools.set(e, r) : this.pools.delete(e);\n        var o = !1;\n        this.pools.forEach(function (e) {\n          return o = o || e.hasHandlers(t);\n        }), o || this.removeTargetHandler(t);\n      }\n    }\n  }, {\n    key: \"addTargetHandler\",\n    value: function value(e) {\n      var t = this.createEmitter(e);\n      this.handlers.set(e, t), this.target.addEventListener(e, t, !0);\n    }\n  }, {\n    key: \"removeTargetHandler\",\n    value: function value(e) {\n      this.handlers.has(e) && (this.target.removeEventListener(e, this.handlers.get(e), !0), this.handlers.delete(e));\n    }\n  }]), e;\n}(),\n    EventStack = function () {\n  function e() {\n    var t = this;\n    _classCallCheck(this, e), _defineProperty(this, \"targets\", new Map()), _defineProperty(this, \"getTarget\", function (e) {\n      var n = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1],\n          r = normalizeTarget(e);\n      if (t.targets.has(r)) return t.targets.get(r);\n      if (!n) return null;\n      var o = new EventTarget(r);\n      return t.targets.set(r, o), o;\n    }), _defineProperty(this, \"removeTarget\", function (e) {\n      t.targets.delete(normalizeTarget(e));\n    });\n  }\n\n  return _createClass(e, [{\n    key: \"sub\",\n    value: function value(e, t) {\n      var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};\n\n      if (env.canUseDOM) {\n        var r = n.target,\n            o = void 0 === r ? document : r,\n            a = n.pool,\n            s = void 0 === a ? \"default\" : a;\n        this.getTarget(o).addHandlers(s, e, normalizeHandlers(t));\n      }\n    }\n  }, {\n    key: \"unsub\",\n    value: function value(e, t) {\n      var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};\n\n      if (env.canUseDOM) {\n        var r = n.target,\n            o = void 0 === r ? document : r,\n            a = n.pool,\n            s = void 0 === a ? \"default\" : a,\n            i = this.getTarget(o, !1);\n        i && (i.removeHandlers(s, e, normalizeHandlers(t)), i.hasHandlers() || this.removeTarget(o));\n      }\n    }\n  }]), e;\n}(),\n    instance = new EventStack(),\n    EventStack$1 = function (e) {\n  function t() {\n    return _classCallCheck(this, t), _possibleConstructorReturn(this, _getPrototypeOf(t).apply(this, arguments));\n  }\n\n  return _inherits(t, React.PureComponent), _createClass(t, [{\n    key: \"componentDidMount\",\n    value: function value() {\n      this.subscribe(this.props);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function value(e) {\n      this.unsubscribe(e), this.subscribe(this.props);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function value() {\n      this.unsubscribe(this.props);\n    }\n  }, {\n    key: \"subscribe\",\n    value: function value(e) {\n      var t = e.name,\n          n = e.on,\n          r = e.pool,\n          o = e.target;\n      instance.sub(t, n, {\n        pool: r,\n        target: o\n      });\n    }\n  }, {\n    key: \"unsubscribe\",\n    value: function value(e) {\n      var t = e.name,\n          n = e.on,\n          r = e.pool,\n          o = e.target;\n      instance.unsub(t, n, {\n        pool: r,\n        target: o\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function value() {\n      return null;\n    }\n  }]), t;\n}();\n\n_defineProperty(EventStack$1, \"defaultProps\", {\n  pool: \"default\",\n  target: \"document\"\n}), EventStack$1.propTypes = {}, exports.instance = instance, exports.default = EventStack$1;","map":{"version":3,"sources":["/home/devrobot/Escritorio/sts-4.5.0.RELEASE/workspace-spring-tool-suite/spring-boot-ecommerce/ecommerce-frontend/node_modules/@semantic-ui-react/event-stack/lib/cjs/event-stack.production.js"],"names":["Object","defineProperty","exports","value","env","require","React","_typeof","e","Symbol","iterator","constructor","prototype","_classCallCheck","t","TypeError","_defineProperties","n","length","r","enumerable","configurable","writable","key","_createClass","_defineProperty","_inherits","create","_setPrototypeOf","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","_assertThisInitialized","ReferenceError","_possibleConstructorReturn","EventSet","handlers","slice","o","push","called","a","indexOf","cloneMap","Map","forEach","set","normalizeHandlers","Array","isArray","isRefObject","hasOwnProperty","normalizeTarget","document","window","current","EventPool","handlerSets","poolName","has","get","addHandlers","dispatchEvent","size","hasHandlers","removeHandlers","delete","EventTarget","pools","target","createByType","addTargetHandler","removeTargetHandler","createEmitter","addEventListener","removeEventListener","EventStack","arguments","targets","canUseDOM","pool","s","getTarget","i","removeTarget","instance","EventStack$1","apply","PureComponent","subscribe","props","unsubscribe","name","on","sub","unsub","propTypes","default"],"mappings":"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","sourcesContent":["\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var env=require(\"exenv\");require(\"prop-types\");var React=require(\"react\");function _typeof(e){return(_typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function _possibleConstructorReturn(e,t){return!t||\"object\"!=typeof t&&\"function\"!=typeof t?_assertThisInitialized(e):t}var EventSet=function(){function e(t){_classCallCheck(this,e),_defineProperty(this,\"handlers\",void 0),this.handlers=t.slice(0)}return _createClass(e,[{key:\"addHandlers\",value:function(t){for(var n=this.handlers.slice(0),r=t.length,o=0;o<r;o+=1)n.push(t[o]);return new e(n)}},{key:\"dispatchEvent\",value:function(e,t){var n=this.handlers.length-1;if(t){for(var r=n;r>=0;r-=1)this.handlers[r].called||(this.handlers[r].called=!0,this.handlers[r](e));for(var o=n;o>=0;o-=1)this.handlers[o].called=!1}else{(0,this.handlers[n])(e)}}},{key:\"hasHandlers\",value:function(){return this.handlers.length>0}},{key:\"removeHandlers\",value:function(t){for(var n=[],r=this.handlers.length,o=0;o<r;o+=1){var a=this.handlers[o];-1===t.indexOf(a)&&n.push(a)}return new e(n)}}]),e}();function cloneMap(e){var t=new Map;return e.forEach(function(e,n){t.set(n,e)}),t}function normalizeHandlers(e){return Array.isArray(e)?e:[e]}var isRefObject=function(e){return null!==e&&\"object\"===_typeof(e)&&e.hasOwnProperty(\"current\")};function normalizeTarget(e){return\"document\"===e?document:\"window\"===e?window:isRefObject(e)?e.current||document:e||document}var EventPool=function(){function e(t,n){_classCallCheck(this,e),_defineProperty(this,\"handlerSets\",void 0),_defineProperty(this,\"poolName\",void 0),this.handlerSets=n,this.poolName=t}return _createClass(e,[{key:\"addHandlers\",value:function(t,n){var r=cloneMap(this.handlerSets);if(r.has(t)){var o=r.get(t);r.set(t,o.addHandlers(n))}else r.set(t,new EventSet(n));return new e(this.poolName,r)}},{key:\"dispatchEvent\",value:function(e,t){var n=this.handlerSets.get(e),r=\"default\"===this.poolName;n&&n.dispatchEvent(t,r)}},{key:\"hasHandlers\",value:function(e){if(!e)return this.handlerSets.size>0;var t=this.handlerSets.get(e);return!!t&&t.hasHandlers()}},{key:\"removeHandlers\",value:function(t,n){var r=cloneMap(this.handlerSets);if(!r.has(t))return new e(this.poolName,r);var o=r.get(t).removeHandlers(n);return o.hasHandlers()?r.set(t,o):r.delete(t),new e(this.poolName,r)}}]),e}();_defineProperty(EventPool,\"createByType\",function(e,t,n){var r=new Map;return r.set(t,new EventSet(n)),new EventPool(e,r)});var EventTarget=function(){function e(t){var n=this;_classCallCheck(this,e),_defineProperty(this,\"handlers\",new Map),_defineProperty(this,\"pools\",new Map),_defineProperty(this,\"target\",void 0),_defineProperty(this,\"createEmitter\",function(e){return function(t){n.pools.forEach(function(n){n.dispatchEvent(e,t)})}}),this.target=t}return _createClass(e,[{key:\"addHandlers\",value:function(e,t,n){if(this.pools.has(e)){var r=this.pools.get(e);this.pools.set(e,r.addHandlers(t,n))}else this.pools.set(e,EventPool.createByType(e,t,n));this.handlers.has(t)||this.addTargetHandler(t)}},{key:\"hasHandlers\",value:function(){return this.handlers.size>0}},{key:\"removeHandlers\",value:function(e,t,n){if(this.pools.has(e)){var r=this.pools.get(e).removeHandlers(t,n);r.hasHandlers()?this.pools.set(e,r):this.pools.delete(e);var o=!1;this.pools.forEach(function(e){return o=o||e.hasHandlers(t)}),o||this.removeTargetHandler(t)}}},{key:\"addTargetHandler\",value:function(e){var t=this.createEmitter(e);this.handlers.set(e,t),this.target.addEventListener(e,t,!0)}},{key:\"removeTargetHandler\",value:function(e){this.handlers.has(e)&&(this.target.removeEventListener(e,this.handlers.get(e),!0),this.handlers.delete(e))}}]),e}(),EventStack=function(){function e(){var t=this;_classCallCheck(this,e),_defineProperty(this,\"targets\",new Map),_defineProperty(this,\"getTarget\",function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=normalizeTarget(e);if(t.targets.has(r))return t.targets.get(r);if(!n)return null;var o=new EventTarget(r);return t.targets.set(r,o),o}),_defineProperty(this,\"removeTarget\",function(e){t.targets.delete(normalizeTarget(e))})}return _createClass(e,[{key:\"sub\",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(env.canUseDOM){var r=n.target,o=void 0===r?document:r,a=n.pool,s=void 0===a?\"default\":a;this.getTarget(o).addHandlers(s,e,normalizeHandlers(t))}}},{key:\"unsub\",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(env.canUseDOM){var r=n.target,o=void 0===r?document:r,a=n.pool,s=void 0===a?\"default\":a,i=this.getTarget(o,!1);i&&(i.removeHandlers(s,e,normalizeHandlers(t)),i.hasHandlers()||this.removeTarget(o))}}}]),e}(),instance=new EventStack,EventStack$1=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,React.PureComponent),_createClass(t,[{key:\"componentDidMount\",value:function(){this.subscribe(this.props)}},{key:\"componentDidUpdate\",value:function(e){this.unsubscribe(e),this.subscribe(this.props)}},{key:\"componentWillUnmount\",value:function(){this.unsubscribe(this.props)}},{key:\"subscribe\",value:function(e){var t=e.name,n=e.on,r=e.pool,o=e.target;instance.sub(t,n,{pool:r,target:o})}},{key:\"unsubscribe\",value:function(e){var t=e.name,n=e.on,r=e.pool,o=e.target;instance.unsub(t,n,{pool:r,target:o})}},{key:\"render\",value:function(){return null}}]),t}();_defineProperty(EventStack$1,\"defaultProps\",{pool:\"default\",target:\"document\"}),EventStack$1.propTypes={},exports.instance=instance,exports.default=EventStack$1;\n"]},"metadata":{},"sourceType":"script"}