{"ast":null,"code":"function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport omit from 'omit.js';\nimport Spin from '../spin';\nimport { ConfigConsumer } from '../config-provider';\nimport Pagination from '../pagination';\nimport { Row } from '../grid';\nimport Item from './Item';\n\nvar List =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(List, _React$Component);\n\n  function List(props) {\n    var _this;\n\n    _classCallCheck(this, List);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(List).call(this, props));\n    _this.defaultPaginationProps = {\n      current: 1,\n      total: 0\n    };\n    _this.keys = {};\n    _this.onPaginationChange = _this.triggerPaginationEvent('onChange');\n    _this.onPaginationShowSizeChange = _this.triggerPaginationEvent('onShowSizeChange');\n\n    _this.renderItem = function (item, index) {\n      var _this$props = _this.props,\n          renderItem = _this$props.renderItem,\n          rowKey = _this$props.rowKey;\n      if (!renderItem) return null;\n      var key;\n\n      if (typeof rowKey === 'function') {\n        key = rowKey(item);\n      } else if (typeof rowKey === 'string') {\n        key = item[rowKey];\n      } else {\n        key = item.key;\n      }\n\n      if (!key) {\n        key = \"list-item-\".concat(index);\n      }\n\n      _this.keys[index] = key;\n      return renderItem(item, index);\n    };\n\n    _this.renderEmpty = function (prefixCls, renderEmpty) {\n      var locale = _this.props.locale;\n      return React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-empty-text\")\n      }, locale && locale.emptyText || renderEmpty('List'));\n    };\n\n    _this.renderList = function (_ref) {\n      var _classNames;\n\n      var getPrefixCls = _ref.getPrefixCls,\n          renderEmpty = _ref.renderEmpty;\n      var _this$state = _this.state,\n          paginationCurrent = _this$state.paginationCurrent,\n          paginationSize = _this$state.paginationSize;\n\n      var _a = _this.props,\n          customizePrefixCls = _a.prefixCls,\n          bordered = _a.bordered,\n          split = _a.split,\n          className = _a.className,\n          children = _a.children,\n          itemLayout = _a.itemLayout,\n          loadMore = _a.loadMore,\n          pagination = _a.pagination,\n          grid = _a.grid,\n          _a$dataSource = _a.dataSource,\n          dataSource = _a$dataSource === void 0 ? [] : _a$dataSource,\n          size = _a.size,\n          header = _a.header,\n          footer = _a.footer,\n          loading = _a.loading,\n          rest = __rest(_a, [\"prefixCls\", \"bordered\", \"split\", \"className\", \"children\", \"itemLayout\", \"loadMore\", \"pagination\", \"grid\", \"dataSource\", \"size\", \"header\", \"footer\", \"loading\"]);\n\n      var prefixCls = getPrefixCls('list', customizePrefixCls);\n      var loadingProp = loading;\n\n      if (typeof loadingProp === 'boolean') {\n        loadingProp = {\n          spinning: loadingProp\n        };\n      }\n\n      var isLoading = loadingProp && loadingProp.spinning; // large => lg\n      // small => sm\n\n      var sizeCls = '';\n\n      switch (size) {\n        case 'large':\n          sizeCls = 'lg';\n          break;\n\n        case 'small':\n          sizeCls = 'sm';\n          break;\n\n        default:\n          break;\n      }\n\n      var classString = classNames(prefixCls, className, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-vertical\"), itemLayout === 'vertical'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-\").concat(sizeCls), sizeCls), _defineProperty(_classNames, \"\".concat(prefixCls, \"-split\"), split), _defineProperty(_classNames, \"\".concat(prefixCls, \"-bordered\"), bordered), _defineProperty(_classNames, \"\".concat(prefixCls, \"-loading\"), isLoading), _defineProperty(_classNames, \"\".concat(prefixCls, \"-grid\"), grid), _defineProperty(_classNames, \"\".concat(prefixCls, \"-something-after-last-item\"), _this.isSomethingAfterLastItem()), _classNames));\n\n      var paginationProps = _extends(_extends(_extends({}, _this.defaultPaginationProps), {\n        total: dataSource.length,\n        current: paginationCurrent,\n        pageSize: paginationSize\n      }), pagination || {});\n\n      var largestPage = Math.ceil(paginationProps.total / paginationProps.pageSize);\n\n      if (paginationProps.current > largestPage) {\n        paginationProps.current = largestPage;\n      }\n\n      var paginationContent = pagination ? React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-pagination\")\n      }, React.createElement(Pagination, _extends({}, paginationProps, {\n        onChange: _this.onPaginationChange,\n        onShowSizeChange: _this.onPaginationShowSizeChange\n      }))) : null;\n\n      var splitDataSource = _toConsumableArray(dataSource);\n\n      if (pagination) {\n        if (dataSource.length > (paginationProps.current - 1) * paginationProps.pageSize) {\n          splitDataSource = _toConsumableArray(dataSource).splice((paginationProps.current - 1) * paginationProps.pageSize, paginationProps.pageSize);\n        }\n      }\n\n      var childrenContent;\n      childrenContent = isLoading && React.createElement(\"div\", {\n        style: {\n          minHeight: 53\n        }\n      });\n\n      if (splitDataSource.length > 0) {\n        var items = splitDataSource.map(function (item, index) {\n          return _this.renderItem(item, index);\n        });\n        var childrenList = [];\n        React.Children.forEach(items, function (child, index) {\n          childrenList.push(React.cloneElement(child, {\n            key: _this.keys[index]\n          }));\n        });\n        childrenContent = grid ? React.createElement(Row, {\n          gutter: grid.gutter\n        }, childrenList) : React.createElement(\"ul\", {\n          className: \"\".concat(prefixCls, \"-items\")\n        }, childrenList);\n      } else if (!children && !isLoading) {\n        childrenContent = _this.renderEmpty(prefixCls, renderEmpty);\n      }\n\n      var paginationPosition = paginationProps.position || 'bottom';\n      return React.createElement(\"div\", _extends({\n        className: classString\n      }, omit(rest, ['rowKey', 'renderItem', 'locale'])), (paginationPosition === 'top' || paginationPosition === 'both') && paginationContent, header && React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-header\")\n      }, header), React.createElement(Spin, loadingProp, childrenContent, children), footer && React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-footer\")\n      }, footer), loadMore || (paginationPosition === 'bottom' || paginationPosition === 'both') && paginationContent);\n    };\n\n    var pagination = props.pagination;\n    var paginationObj = pagination && _typeof(pagination) === 'object' ? pagination : {};\n    _this.state = {\n      paginationCurrent: paginationObj.defaultCurrent || 1,\n      paginationSize: paginationObj.defaultPageSize || 10\n    };\n    return _this;\n  }\n\n  _createClass(List, [{\n    key: \"getChildContext\",\n    value: function getChildContext() {\n      return {\n        grid: this.props.grid,\n        itemLayout: this.props.itemLayout\n      };\n    }\n  }, {\n    key: \"triggerPaginationEvent\",\n    value: function triggerPaginationEvent(eventName) {\n      var _this2 = this;\n\n      return function (page, pageSize) {\n        var pagination = _this2.props.pagination;\n\n        _this2.setState({\n          paginationCurrent: page,\n          paginationSize: pageSize\n        });\n\n        if (pagination && pagination[eventName]) {\n          pagination[eventName](page, pageSize);\n        }\n      };\n    }\n  }, {\n    key: \"isSomethingAfterLastItem\",\n    value: function isSomethingAfterLastItem() {\n      var _this$props2 = this.props,\n          loadMore = _this$props2.loadMore,\n          pagination = _this$props2.pagination,\n          footer = _this$props2.footer;\n      return !!(loadMore || pagination || footer);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(ConfigConsumer, null, this.renderList);\n    }\n  }]);\n\n  return List;\n}(React.Component);\n\nexport { List as default };\nList.Item = Item;\nList.childContextTypes = {\n  grid: PropTypes.any,\n  itemLayout: PropTypes.string\n};\nList.defaultProps = {\n  dataSource: [],\n  bordered: false,\n  split: true,\n  loading: false,\n  pagination: false\n};","map":{"version":3,"sources":["list/index.jsx"],"names":["__rest","t","Object","e","s","i","p","List","React","Component","current","total","renderItem","rowKey","key","item","locale","renderEmpty","getPrefixCls","paginationCurrent","paginationSize","customizePrefixCls","bordered","split","className","children","itemLayout","loadMore","pagination","grid","dataSource","size","header","footer","loading","_a","rest","prefixCls","loadingProp","spinning","isLoading","sizeCls","classString","classNames","paginationProps","pageSize","largestPage","Math","paginationContent","onPaginationShowSizeChange","splitDataSource","childrenContent","minHeight","items","childrenList","gutter","paginationPosition","omit","props","paginationObj","eventName","PropTypes","string"],"mappings":"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","sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport omit from 'omit.js';\nimport Spin from '../spin';\nimport { ConfigConsumer } from '../config-provider';\nimport Pagination from '../pagination';\nimport { Row } from '../grid';\nimport Item from './Item';\nexport default class List extends React.Component {\n    constructor(props) {\n        super(props);\n        this.defaultPaginationProps = {\n            current: 1,\n            total: 0,\n        };\n        this.keys = {};\n        this.onPaginationChange = this.triggerPaginationEvent('onChange');\n        this.onPaginationShowSizeChange = this.triggerPaginationEvent('onShowSizeChange');\n        this.renderItem = (item, index) => {\n            const { renderItem, rowKey } = this.props;\n            if (!renderItem)\n                return null;\n            let key;\n            if (typeof rowKey === 'function') {\n                key = rowKey(item);\n            }\n            else if (typeof rowKey === 'string') {\n                key = item[rowKey];\n            }\n            else {\n                key = item.key;\n            }\n            if (!key) {\n                key = `list-item-${index}`;\n            }\n            this.keys[index] = key;\n            return renderItem(item, index);\n        };\n        this.renderEmpty = (prefixCls, renderEmpty) => {\n            const { locale } = this.props;\n            return (<div className={`${prefixCls}-empty-text`}>\n        {(locale && locale.emptyText) || renderEmpty('List')}\n      </div>);\n        };\n        this.renderList = ({ getPrefixCls, renderEmpty }) => {\n            const { paginationCurrent, paginationSize } = this.state;\n            const _a = this.props, { prefixCls: customizePrefixCls, bordered, split, className, children, itemLayout, loadMore, pagination, grid, dataSource = [], size, header, footer, loading } = _a, rest = __rest(_a, [\"prefixCls\", \"bordered\", \"split\", \"className\", \"children\", \"itemLayout\", \"loadMore\", \"pagination\", \"grid\", \"dataSource\", \"size\", \"header\", \"footer\", \"loading\"]);\n            const prefixCls = getPrefixCls('list', customizePrefixCls);\n            let loadingProp = loading;\n            if (typeof loadingProp === 'boolean') {\n                loadingProp = {\n                    spinning: loadingProp,\n                };\n            }\n            const isLoading = loadingProp && loadingProp.spinning;\n            // large => lg\n            // small => sm\n            let sizeCls = '';\n            switch (size) {\n                case 'large':\n                    sizeCls = 'lg';\n                    break;\n                case 'small':\n                    sizeCls = 'sm';\n                    break;\n                default:\n                    break;\n            }\n            const classString = classNames(prefixCls, className, {\n                [`${prefixCls}-vertical`]: itemLayout === 'vertical',\n                [`${prefixCls}-${sizeCls}`]: sizeCls,\n                [`${prefixCls}-split`]: split,\n                [`${prefixCls}-bordered`]: bordered,\n                [`${prefixCls}-loading`]: isLoading,\n                [`${prefixCls}-grid`]: grid,\n                [`${prefixCls}-something-after-last-item`]: this.isSomethingAfterLastItem(),\n            });\n            const paginationProps = Object.assign(Object.assign(Object.assign({}, this.defaultPaginationProps), { total: dataSource.length, current: paginationCurrent, pageSize: paginationSize }), (pagination || {}));\n            const largestPage = Math.ceil(paginationProps.total / paginationProps.pageSize);\n            if (paginationProps.current > largestPage) {\n                paginationProps.current = largestPage;\n            }\n            const paginationContent = pagination ? (<div className={`${prefixCls}-pagination`}>\n        <Pagination {...paginationProps} onChange={this.onPaginationChange} onShowSizeChange={this.onPaginationShowSizeChange}/>\n      </div>) : null;\n            let splitDataSource = [...dataSource];\n            if (pagination) {\n                if (dataSource.length > (paginationProps.current - 1) * paginationProps.pageSize) {\n                    splitDataSource = [...dataSource].splice((paginationProps.current - 1) * paginationProps.pageSize, paginationProps.pageSize);\n                }\n            }\n            let childrenContent;\n            childrenContent = isLoading && <div style={{ minHeight: 53 }}/>;\n            if (splitDataSource.length > 0) {\n                const items = splitDataSource.map((item, index) => this.renderItem(item, index));\n                const childrenList = [];\n                React.Children.forEach(items, (child, index) => {\n                    childrenList.push(React.cloneElement(child, {\n                        key: this.keys[index],\n                    }));\n                });\n                childrenContent = grid ? (<Row gutter={grid.gutter}>{childrenList}</Row>) : (<ul className={`${prefixCls}-items`}>{childrenList}</ul>);\n            }\n            else if (!children && !isLoading) {\n                childrenContent = this.renderEmpty(prefixCls, renderEmpty);\n            }\n            const paginationPosition = paginationProps.position || 'bottom';\n            return (<div className={classString} {...omit(rest, ['rowKey', 'renderItem', 'locale'])}>\n        {(paginationPosition === 'top' || paginationPosition === 'both') && paginationContent}\n        {header && <div className={`${prefixCls}-header`}>{header}</div>}\n        <Spin {...loadingProp}>\n          {childrenContent}\n          {children}\n        </Spin>\n        {footer && <div className={`${prefixCls}-footer`}>{footer}</div>}\n        {loadMore ||\n                ((paginationPosition === 'bottom' || paginationPosition === 'both') && paginationContent)}\n      </div>);\n        };\n        const { pagination } = props;\n        const paginationObj = pagination && typeof pagination === 'object' ? pagination : {};\n        this.state = {\n            paginationCurrent: paginationObj.defaultCurrent || 1,\n            paginationSize: paginationObj.defaultPageSize || 10,\n        };\n    }\n    getChildContext() {\n        return {\n            grid: this.props.grid,\n            itemLayout: this.props.itemLayout,\n        };\n    }\n    triggerPaginationEvent(eventName) {\n        return (page, pageSize) => {\n            const { pagination } = this.props;\n            this.setState({\n                paginationCurrent: page,\n                paginationSize: pageSize,\n            });\n            if (pagination && pagination[eventName]) {\n                pagination[eventName](page, pageSize);\n            }\n        };\n    }\n    isSomethingAfterLastItem() {\n        const { loadMore, pagination, footer } = this.props;\n        return !!(loadMore || pagination || footer);\n    }\n    render() {\n        return <ConfigConsumer>{this.renderList}</ConfigConsumer>;\n    }\n}\nList.Item = Item;\nList.childContextTypes = {\n    grid: PropTypes.any,\n    itemLayout: PropTypes.string,\n};\nList.defaultProps = {\n    dataSource: [],\n    bordered: false,\n    split: true,\n    loading: false,\n    pagination: false,\n};\n"]},"metadata":{},"sourceType":"module"}