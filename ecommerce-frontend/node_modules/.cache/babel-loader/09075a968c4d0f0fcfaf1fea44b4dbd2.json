{"ast":null,"code":"function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport omit from 'omit.js';\nimport classNames from 'classnames';\nimport PureRenderMixin from \"rc-util/es/PureRenderMixin\";\nimport Checkbox from '../checkbox';\nimport Search from './search';\nimport defaultRenderList, { OmitProps } from './renderListBody';\nimport triggerEvent from '../_util/triggerEvent';\n\nvar defaultRender = function defaultRender() {\n  return null;\n};\n\nfunction isRenderResultPlainObject(result) {\n  return result && !React.isValidElement(result) && Object.prototype.toString.call(result) === '[object Object]';\n}\n\nfunction renderListNode(renderList, props) {\n  var bodyContent = renderList ? renderList(props) : null;\n  var customize = !!bodyContent;\n\n  if (!customize) {\n    bodyContent = defaultRenderList(props);\n  }\n\n  return {\n    customize: customize,\n    bodyContent: bodyContent\n  };\n}\n\nvar TransferList =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(TransferList, _React$Component);\n\n  function TransferList(props) {\n    var _this;\n\n    _classCallCheck(this, TransferList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TransferList).call(this, props));\n\n    _this.handleFilter = function (e) {\n      var handleFilter = _this.props.handleFilter;\n      var filterValue = e.target.value;\n\n      _this.setState({\n        filterValue: filterValue\n      });\n\n      handleFilter(e);\n\n      if (!filterValue) {\n        return;\n      } // Manually trigger scroll event for lazy search bug\n      // https://github.com/ant-design/ant-design/issues/5631\n\n\n      _this.triggerScrollTimer = window.setTimeout(function () {\n        var transferNode = ReactDOM.findDOMNode(_assertThisInitialized(_this));\n        var listNode = transferNode.querySelectorAll('.ant-transfer-list-content')[0];\n\n        if (listNode) {\n          triggerEvent(listNode, 'scroll');\n        }\n      }, 0);\n    };\n\n    _this.handleClear = function () {\n      var handleClear = _this.props.handleClear;\n\n      _this.setState({\n        filterValue: ''\n      });\n\n      handleClear();\n    };\n\n    _this.matchFilter = function (text, item) {\n      var filterValue = _this.state.filterValue;\n      var filterOption = _this.props.filterOption;\n\n      if (filterOption) {\n        return filterOption(filterValue, item);\n      }\n\n      return text.indexOf(filterValue) >= 0;\n    };\n\n    _this.renderItem = function (item) {\n      var _this$props$render = _this.props.render,\n          render = _this$props$render === void 0 ? defaultRender : _this$props$render;\n      var renderResult = render(item);\n      var isRenderResultPlain = isRenderResultPlainObject(renderResult);\n      return {\n        renderedText: isRenderResultPlain ? renderResult.value : renderResult,\n        renderedEl: isRenderResultPlain ? renderResult.label : renderResult,\n        item: item\n      };\n    };\n\n    _this.state = {\n      filterValue: ''\n    };\n    return _this;\n  }\n\n  _createClass(TransferList, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return PureRenderMixin.shouldComponentUpdate.apply(this, args);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearTimeout(this.triggerScrollTimer);\n    }\n  }, {\n    key: \"getCheckStatus\",\n    value: function getCheckStatus(filteredItems) {\n      var checkedKeys = this.props.checkedKeys;\n\n      if (checkedKeys.length === 0) {\n        return 'none';\n      }\n\n      if (filteredItems.every(function (item) {\n        return checkedKeys.indexOf(item.key) >= 0 || !!item.disabled;\n      })) {\n        return 'all';\n      }\n\n      return 'part';\n    }\n  }, {\n    key: \"getFilteredItems\",\n    value: function getFilteredItems(dataSource, filterValue) {\n      var _this2 = this;\n\n      var filteredItems = [];\n      var filteredRenderItems = [];\n      dataSource.forEach(function (item) {\n        var renderedItem = _this2.renderItem(item);\n\n        var renderedText = renderedItem.renderedText; // Filter skip\n\n        if (filterValue && filterValue.trim() && !_this2.matchFilter(renderedText, item)) {\n          return null;\n        }\n\n        filteredItems.push(item);\n        filteredRenderItems.push(renderedItem);\n      });\n      return {\n        filteredItems: filteredItems,\n        filteredRenderItems: filteredRenderItems\n      };\n    }\n  }, {\n    key: \"getListBody\",\n    value: function getListBody(prefixCls, searchPlaceholder, filterValue, filteredItems, notFoundContent, bodyDom, filteredRenderItems, checkedKeys, renderList, showSearch, disabled) {\n      var search = showSearch ? React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-body-search-wrapper\")\n      }, React.createElement(Search, {\n        prefixCls: \"\".concat(prefixCls, \"-search\"),\n        onChange: this.handleFilter,\n        handleClear: this.handleClear,\n        placeholder: searchPlaceholder,\n        value: filterValue,\n        disabled: disabled\n      })) : null;\n      var listBody = bodyDom;\n\n      if (!listBody) {\n        var bodyNode;\n\n        var _renderListNode = renderListNode(renderList, _extends(_extends({}, omit(this.props, OmitProps)), {\n          filteredItems: filteredItems,\n          filteredRenderItems: filteredRenderItems,\n          selectedKeys: checkedKeys\n        })),\n            bodyContent = _renderListNode.bodyContent,\n            customize = _renderListNode.customize; // We should wrap customize list body in a classNamed div to use flex layout.\n\n\n        if (customize) {\n          bodyNode = React.createElement(\"div\", {\n            className: \"\".concat(prefixCls, \"-body-customize-wrapper\")\n          }, bodyContent);\n        } else {\n          bodyNode = filteredItems.length ? bodyContent : React.createElement(\"div\", {\n            className: \"\".concat(prefixCls, \"-body-not-found\")\n          }, notFoundContent);\n        }\n\n        listBody = React.createElement(\"div\", {\n          className: classNames(showSearch ? \"\".concat(prefixCls, \"-body \").concat(prefixCls, \"-body-with-search\") : \"\".concat(prefixCls, \"-body\"))\n        }, search, bodyNode);\n      }\n\n      return listBody;\n    }\n  }, {\n    key: \"getCheckBox\",\n    value: function getCheckBox(filteredItems, onItemSelectAll, showSelectAll, disabled) {\n      var checkStatus = this.getCheckStatus(filteredItems);\n      var checkedAll = checkStatus === 'all';\n      var checkAllCheckbox = showSelectAll !== false && React.createElement(Checkbox, {\n        disabled: disabled,\n        checked: checkedAll,\n        indeterminate: checkStatus === 'part',\n        onChange: function onChange() {\n          // Only select enabled items\n          onItemSelectAll(filteredItems.filter(function (item) {\n            return !item.disabled;\n          }).map(function (_ref) {\n            var key = _ref.key;\n            return key;\n          }), !checkedAll);\n        }\n      });\n      return checkAllCheckbox;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var filterValue = this.state.filterValue;\n      var _this$props = this.props,\n          prefixCls = _this$props.prefixCls,\n          dataSource = _this$props.dataSource,\n          titleText = _this$props.titleText,\n          checkedKeys = _this$props.checkedKeys,\n          disabled = _this$props.disabled,\n          body = _this$props.body,\n          footer = _this$props.footer,\n          showSearch = _this$props.showSearch,\n          style = _this$props.style,\n          searchPlaceholder = _this$props.searchPlaceholder,\n          notFoundContent = _this$props.notFoundContent,\n          itemUnit = _this$props.itemUnit,\n          itemsUnit = _this$props.itemsUnit,\n          renderList = _this$props.renderList,\n          onItemSelectAll = _this$props.onItemSelectAll,\n          showSelectAll = _this$props.showSelectAll; // Custom Layout\n\n      var footerDom = footer && footer(this.props);\n      var bodyDom = body && body(this.props);\n      var listCls = classNames(prefixCls, _defineProperty({}, \"\".concat(prefixCls, \"-with-footer\"), !!footerDom)); // ====================== Get filtered, checked item list ======================\n\n      var _this$getFilteredItem = this.getFilteredItems(dataSource, filterValue),\n          filteredItems = _this$getFilteredItem.filteredItems,\n          filteredRenderItems = _this$getFilteredItem.filteredRenderItems; // ================================= List Body =================================\n\n\n      var unit = dataSource.length > 1 ? itemsUnit : itemUnit;\n      var listBody = this.getListBody(prefixCls, searchPlaceholder, filterValue, filteredItems, notFoundContent, bodyDom, filteredRenderItems, checkedKeys, renderList, showSearch, disabled); // ================================ List Footer ================================\n\n      var listFooter = footerDom ? React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-footer\")\n      }, footerDom) : null;\n      var checkAllCheckbox = this.getCheckBox(filteredItems, onItemSelectAll, showSelectAll, disabled); // ================================== Render ===================================\n\n      return React.createElement(\"div\", {\n        className: listCls,\n        style: style\n      }, React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-header\")\n      }, checkAllCheckbox, React.createElement(\"span\", {\n        className: \"\".concat(prefixCls, \"-header-selected\")\n      }, React.createElement(\"span\", null, (checkedKeys.length > 0 ? \"\".concat(checkedKeys.length, \"/\") : '') + filteredItems.length, ' ', unit), React.createElement(\"span\", {\n        className: \"\".concat(prefixCls, \"-header-title\")\n      }, titleText))), listBody, listFooter);\n    }\n  }]);\n\n  return TransferList;\n}(React.Component);\n\nexport { TransferList as default };\nTransferList.defaultProps = {\n  dataSource: [],\n  titleText: '',\n  showSearch: false,\n  lazy: {}\n};","map":{"version":3,"sources":["transfer/list.jsx"],"names":["defaultRender","result","React","Object","bodyContent","renderList","customize","defaultRenderList","TransferList","Component","handleFilter","filterValue","e","transferNode","ReactDOM","listNode","triggerEvent","handleClear","filterOption","text","render","renderResult","isRenderResultPlain","isRenderResultPlainObject","renderedText","renderedEl","item","args","PureRenderMixin","clearTimeout","filteredItems","checkedKeys","dataSource","filteredRenderItems","renderedItem","prefixCls","searchPlaceholder","notFoundContent","bodyDom","showSearch","disabled","search","listBody","renderListNode","omit","selectedKeys","bodyNode","classNames","onItemSelectAll","showSelectAll","checkStatus","checkedAll","checkAllCheckbox","key","titleText","body","footer","style","itemUnit","itemsUnit","footerDom","listCls","unit","listFooter","lazy"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport omit from 'omit.js';\nimport classNames from 'classnames';\nimport PureRenderMixin from 'rc-util/lib/PureRenderMixin';\nimport Checkbox from '../checkbox';\nimport Search from './search';\nimport defaultRenderList, { OmitProps } from './renderListBody';\nimport triggerEvent from '../_util/triggerEvent';\nconst defaultRender = () => null;\nfunction isRenderResultPlainObject(result) {\n    return (result &&\n        !React.isValidElement(result) &&\n        Object.prototype.toString.call(result) === '[object Object]');\n}\nfunction renderListNode(renderList, props) {\n    let bodyContent = renderList ? renderList(props) : null;\n    const customize = !!bodyContent;\n    if (!customize) {\n        bodyContent = defaultRenderList(props);\n    }\n    return {\n        customize,\n        bodyContent,\n    };\n}\nexport default class TransferList extends React.Component {\n    constructor(props) {\n        super(props);\n        this.handleFilter = (e) => {\n            const { handleFilter } = this.props;\n            const { target: { value: filterValue }, } = e;\n            this.setState({ filterValue });\n            handleFilter(e);\n            if (!filterValue) {\n                return;\n            }\n            // Manually trigger scroll event for lazy search bug\n            // https://github.com/ant-design/ant-design/issues/5631\n            this.triggerScrollTimer = window.setTimeout(() => {\n                const transferNode = ReactDOM.findDOMNode(this);\n                const listNode = transferNode.querySelectorAll('.ant-transfer-list-content')[0];\n                if (listNode) {\n                    triggerEvent(listNode, 'scroll');\n                }\n            }, 0);\n        };\n        this.handleClear = () => {\n            const { handleClear } = this.props;\n            this.setState({ filterValue: '' });\n            handleClear();\n        };\n        this.matchFilter = (text, item) => {\n            const { filterValue } = this.state;\n            const { filterOption } = this.props;\n            if (filterOption) {\n                return filterOption(filterValue, item);\n            }\n            return text.indexOf(filterValue) >= 0;\n        };\n        this.renderItem = (item) => {\n            const { render = defaultRender } = this.props;\n            const renderResult = render(item);\n            const isRenderResultPlain = isRenderResultPlainObject(renderResult);\n            return {\n                renderedText: isRenderResultPlain\n                    ? renderResult.value\n                    : renderResult,\n                renderedEl: isRenderResultPlain ? renderResult.label : renderResult,\n                item,\n            };\n        };\n        this.state = {\n            filterValue: '',\n        };\n    }\n    shouldComponentUpdate(...args) {\n        return PureRenderMixin.shouldComponentUpdate.apply(this, args);\n    }\n    componentWillUnmount() {\n        clearTimeout(this.triggerScrollTimer);\n    }\n    getCheckStatus(filteredItems) {\n        const { checkedKeys } = this.props;\n        if (checkedKeys.length === 0) {\n            return 'none';\n        }\n        if (filteredItems.every(item => checkedKeys.indexOf(item.key) >= 0 || !!item.disabled)) {\n            return 'all';\n        }\n        return 'part';\n    }\n    getFilteredItems(dataSource, filterValue) {\n        const filteredItems = [];\n        const filteredRenderItems = [];\n        dataSource.forEach(item => {\n            const renderedItem = this.renderItem(item);\n            const { renderedText } = renderedItem;\n            // Filter skip\n            if (filterValue && filterValue.trim() && !this.matchFilter(renderedText, item)) {\n                return null;\n            }\n            filteredItems.push(item);\n            filteredRenderItems.push(renderedItem);\n        });\n        return { filteredItems, filteredRenderItems };\n    }\n    getListBody(prefixCls, searchPlaceholder, filterValue, filteredItems, notFoundContent, bodyDom, filteredRenderItems, checkedKeys, renderList, showSearch, disabled) {\n        const search = showSearch ? (<div className={`${prefixCls}-body-search-wrapper`}>\n        <Search prefixCls={`${prefixCls}-search`} onChange={this.handleFilter} handleClear={this.handleClear} placeholder={searchPlaceholder} value={filterValue} disabled={disabled}/>\n      </div>) : null;\n        let listBody = bodyDom;\n        if (!listBody) {\n            let bodyNode;\n            const { bodyContent, customize } = renderListNode(renderList, Object.assign(Object.assign({}, omit(this.props, OmitProps)), { filteredItems,\n                filteredRenderItems, selectedKeys: checkedKeys }));\n            // We should wrap customize list body in a classNamed div to use flex layout.\n            if (customize) {\n                bodyNode = <div className={`${prefixCls}-body-customize-wrapper`}>{bodyContent}</div>;\n            }\n            else {\n                bodyNode = filteredItems.length ? (bodyContent) : (<div className={`${prefixCls}-body-not-found`}>{notFoundContent}</div>);\n            }\n            listBody = (<div className={classNames(showSearch ? `${prefixCls}-body ${prefixCls}-body-with-search` : `${prefixCls}-body`)}>\n          {search}\n          {bodyNode}\n        </div>);\n        }\n        return listBody;\n    }\n    getCheckBox(filteredItems, onItemSelectAll, showSelectAll, disabled) {\n        const checkStatus = this.getCheckStatus(filteredItems);\n        const checkedAll = checkStatus === 'all';\n        const checkAllCheckbox = showSelectAll !== false && (<Checkbox disabled={disabled} checked={checkedAll} indeterminate={checkStatus === 'part'} onChange={() => {\n            // Only select enabled items\n            onItemSelectAll(filteredItems.filter(item => !item.disabled).map(({ key }) => key), !checkedAll);\n        }}/>);\n        return checkAllCheckbox;\n    }\n    render() {\n        const { filterValue } = this.state;\n        const { prefixCls, dataSource, titleText, checkedKeys, disabled, body, footer, showSearch, style, searchPlaceholder, notFoundContent, itemUnit, itemsUnit, renderList, onItemSelectAll, showSelectAll, } = this.props;\n        // Custom Layout\n        const footerDom = footer && footer(this.props);\n        const bodyDom = body && body(this.props);\n        const listCls = classNames(prefixCls, {\n            [`${prefixCls}-with-footer`]: !!footerDom,\n        });\n        // ====================== Get filtered, checked item list ======================\n        const { filteredItems, filteredRenderItems } = this.getFilteredItems(dataSource, filterValue);\n        // ================================= List Body =================================\n        const unit = dataSource.length > 1 ? itemsUnit : itemUnit;\n        const listBody = this.getListBody(prefixCls, searchPlaceholder, filterValue, filteredItems, notFoundContent, bodyDom, filteredRenderItems, checkedKeys, renderList, showSearch, disabled);\n        // ================================ List Footer ================================\n        const listFooter = footerDom ? <div className={`${prefixCls}-footer`}>{footerDom}</div> : null;\n        const checkAllCheckbox = this.getCheckBox(filteredItems, onItemSelectAll, showSelectAll, disabled);\n        // ================================== Render ===================================\n        return (<div className={listCls} style={style}>\n        \n        <div className={`${prefixCls}-header`}>\n          {checkAllCheckbox}\n          <span className={`${prefixCls}-header-selected`}>\n            <span>\n              {(checkedKeys.length > 0 ? `${checkedKeys.length}/` : '') + filteredItems.length}{' '}\n              {unit}\n            </span>\n            <span className={`${prefixCls}-header-title`}>{titleText}</span>\n          </span>\n        </div>\n\n        \n        {listBody}\n\n        \n        {listFooter}\n      </div>);\n    }\n}\nTransferList.defaultProps = {\n    dataSource: [],\n    titleText: '',\n    showSearch: false,\n    lazy: {},\n};\n"]},"metadata":{},"sourceType":"module"}