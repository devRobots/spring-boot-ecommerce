{"ast":null,"code":"function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { polyfill } from 'react-lifecycles-compat';\nimport Tree from 'rc-tree';\nimport { createRef } from '../util';\nexport var popupContextTypes = {\n  onPopupKeyDown: PropTypes.func.isRequired,\n  onTreeNodeSelect: PropTypes.func.isRequired,\n  onTreeNodeCheck: PropTypes.func.isRequired\n};\n\nvar BasePopup =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(BasePopup, _React$Component);\n\n  function BasePopup(props) {\n    var _this;\n\n    _classCallCheck(this, BasePopup);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(BasePopup).call(this));\n\n    _defineProperty(_assertThisInitialized(_this), \"onTreeExpand\", function (expandedKeyList) {\n      var _this$props = _this.props,\n          treeExpandedKeys = _this$props.treeExpandedKeys,\n          onTreeExpand = _this$props.onTreeExpand,\n          onTreeExpanded = _this$props.onTreeExpanded; // Set uncontrolled state\n\n      if (!treeExpandedKeys) {\n        _this.setState({\n          expandedKeyList: expandedKeyList\n        }, onTreeExpanded);\n      }\n\n      if (onTreeExpand) {\n        onTreeExpand(expandedKeyList);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onLoad\", function (loadedKeys) {\n      _this.setState({\n        loadedKeys: loadedKeys\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getTree\", function () {\n      return _this.treeRef.current;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getLoadData\", function () {\n      var _this$props2 = _this.props,\n          loadData = _this$props2.loadData,\n          upperSearchValue = _this$props2.upperSearchValue;\n      if (upperSearchValue) return null;\n      return loadData;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"filterTreeNode\", function (treeNode) {\n      var _this$props3 = _this.props,\n          upperSearchValue = _this$props3.upperSearchValue,\n          treeNodeFilterProp = _this$props3.treeNodeFilterProp;\n      var filterVal = treeNode.props[treeNodeFilterProp];\n\n      if (typeof filterVal === 'string') {\n        return upperSearchValue && filterVal.toUpperCase().indexOf(upperSearchValue) !== -1;\n      }\n\n      return false;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderNotFound\", function () {\n      var _this$props4 = _this.props,\n          prefixCls = _this$props4.prefixCls,\n          notFoundContent = _this$props4.notFoundContent;\n      return React.createElement(\"span\", {\n        className: \"\".concat(prefixCls, \"-not-found\")\n      }, notFoundContent);\n    });\n\n    var treeDefaultExpandAll = props.treeDefaultExpandAll,\n        treeDefaultExpandedKeys = props.treeDefaultExpandedKeys,\n        keyEntities = props.keyEntities; // TODO: make `expandedKeyList` control\n\n    var _expandedKeyList = treeDefaultExpandedKeys;\n\n    if (treeDefaultExpandAll) {\n      _expandedKeyList = Object.keys(keyEntities);\n    }\n\n    _this.state = {\n      keyList: [],\n      expandedKeyList: _expandedKeyList,\n      // Cache `expandedKeyList` when tree is in filter. This is used in `getDerivedStateFromProps`\n      cachedExpandedKeyList: [],\n      // eslint-disable-line react/no-unused-state\n      loadedKeys: []\n    };\n    _this.treeRef = createRef();\n    return _this;\n  }\n\n  _createClass(BasePopup, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          keyList = _this$state.keyList,\n          expandedKeyList = _this$state.expandedKeyList,\n          loadedKeys = _this$state.loadedKeys;\n      var _this$props5 = this.props,\n          prefixCls = _this$props5.prefixCls,\n          treeNodes = _this$props5.treeNodes,\n          filteredTreeNodes = _this$props5.filteredTreeNodes,\n          treeIcon = _this$props5.treeIcon,\n          treeLine = _this$props5.treeLine,\n          treeCheckable = _this$props5.treeCheckable,\n          treeCheckStrictly = _this$props5.treeCheckStrictly,\n          multiple = _this$props5.multiple,\n          ariaId = _this$props5.ariaId,\n          renderSearch = _this$props5.renderSearch,\n          switcherIcon = _this$props5.switcherIcon,\n          searchHalfCheckedKeys = _this$props5.searchHalfCheckedKeys;\n      var _this$context$rcTreeS = this.context.rcTreeSelect,\n          onPopupKeyDown = _this$context$rcTreeS.onPopupKeyDown,\n          onTreeNodeSelect = _this$context$rcTreeS.onTreeNodeSelect,\n          onTreeNodeCheck = _this$context$rcTreeS.onTreeNodeCheck;\n      var loadData = this.getLoadData();\n      var treeProps = {};\n\n      if (treeCheckable) {\n        treeProps.checkedKeys = keyList;\n      } else {\n        treeProps.selectedKeys = keyList;\n      }\n\n      var $notFound;\n      var $treeNodes;\n\n      if (filteredTreeNodes) {\n        if (filteredTreeNodes.length) {\n          treeProps.checkStrictly = true;\n          $treeNodes = filteredTreeNodes; // Fill halfCheckedKeys\n\n          if (treeCheckable && !treeCheckStrictly) {\n            treeProps.checkedKeys = {\n              checked: keyList,\n              halfChecked: searchHalfCheckedKeys\n            };\n          }\n        } else {\n          $notFound = this.renderNotFound();\n        }\n      } else if (!treeNodes || !treeNodes.length) {\n        $notFound = this.renderNotFound();\n      } else {\n        $treeNodes = treeNodes;\n      }\n\n      var $tree;\n\n      if ($notFound) {\n        $tree = $notFound;\n      } else {\n        $tree = React.createElement(Tree, _extends({\n          ref: this.treeRef,\n          prefixCls: \"\".concat(prefixCls, \"-tree\"),\n          showIcon: treeIcon,\n          showLine: treeLine,\n          selectable: !treeCheckable,\n          checkable: treeCheckable,\n          checkStrictly: treeCheckStrictly,\n          multiple: multiple,\n          loadData: loadData,\n          loadedKeys: loadedKeys,\n          expandedKeys: expandedKeyList,\n          filterTreeNode: this.filterTreeNode,\n          onSelect: onTreeNodeSelect,\n          onCheck: onTreeNodeCheck,\n          onExpand: this.onTreeExpand,\n          onLoad: this.onLoad,\n          switcherIcon: switcherIcon\n        }, treeProps), $treeNodes);\n      }\n\n      return React.createElement(\"div\", {\n        role: \"listbox\",\n        id: ariaId,\n        onKeyDown: onPopupKeyDown,\n        tabIndex: -1\n      }, renderSearch ? renderSearch() : null, $tree);\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var _ref = prevState || {},\n          _ref$prevProps = _ref.prevProps,\n          prevProps = _ref$prevProps === void 0 ? {} : _ref$prevProps,\n          loadedKeys = _ref.loadedKeys,\n          expandedKeyList = _ref.expandedKeyList,\n          cachedExpandedKeyList = _ref.cachedExpandedKeyList;\n\n      var valueList = nextProps.valueList,\n          valueEntities = nextProps.valueEntities,\n          keyEntities = nextProps.keyEntities,\n          treeExpandedKeys = nextProps.treeExpandedKeys,\n          filteredTreeNodes = nextProps.filteredTreeNodes,\n          upperSearchValue = nextProps.upperSearchValue;\n      var newState = {\n        prevProps: nextProps\n      }; // Check value update\n\n      if (valueList !== prevProps.valueList) {\n        newState.keyList = valueList.map(function (_ref2) {\n          var value = _ref2.value;\n          return valueEntities[value];\n        }).filter(function (entity) {\n          return entity;\n        }).map(function (_ref3) {\n          var key = _ref3.key;\n          return key;\n        });\n      } // Show all when tree is in filter mode\n\n\n      if (!treeExpandedKeys && filteredTreeNodes && filteredTreeNodes.length && filteredTreeNodes !== prevProps.filteredTreeNodes) {\n        newState.expandedKeyList = Object.keys(keyEntities);\n      } // Cache `expandedKeyList` when filter set\n\n\n      if (upperSearchValue && !prevProps.upperSearchValue) {\n        newState.cachedExpandedKeyList = expandedKeyList;\n      } else if (!upperSearchValue && prevProps.upperSearchValue && !treeExpandedKeys) {\n        newState.expandedKeyList = cachedExpandedKeyList || [];\n        newState.cachedExpandedKeyList = [];\n      } // Use expandedKeys if provided\n\n\n      if (prevProps.treeExpandedKeys !== treeExpandedKeys) {\n        newState.expandedKeyList = treeExpandedKeys;\n      } // Clean loadedKeys if key not exist in keyEntities anymore\n\n\n      if (nextProps.loadData) {\n        newState.loadedKeys = loadedKeys.filter(function (key) {\n          return key in keyEntities;\n        });\n      }\n\n      return newState;\n    }\n  }]);\n\n  return BasePopup;\n}(React.Component);\n\n_defineProperty(BasePopup, \"propTypes\", {\n  prefixCls: PropTypes.string,\n  upperSearchValue: PropTypes.string,\n  valueList: PropTypes.array,\n  searchHalfCheckedKeys: PropTypes.array,\n  valueEntities: PropTypes.object,\n  keyEntities: PropTypes.object,\n  treeIcon: PropTypes.bool,\n  treeLine: PropTypes.bool,\n  treeNodeFilterProp: PropTypes.string,\n  treeCheckable: PropTypes.oneOfType([PropTypes.bool, PropTypes.node]),\n  treeCheckStrictly: PropTypes.bool,\n  treeDefaultExpandAll: PropTypes.bool,\n  treeDefaultExpandedKeys: PropTypes.array,\n  treeExpandedKeys: PropTypes.array,\n  loadData: PropTypes.func,\n  multiple: PropTypes.bool,\n  onTreeExpand: PropTypes.func,\n  treeNodes: PropTypes.node,\n  filteredTreeNodes: PropTypes.node,\n  notFoundContent: PropTypes.node,\n  ariaId: PropTypes.string,\n  switcherIcon: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  // HOC\n  renderSearch: PropTypes.func,\n  onTreeExpanded: PropTypes.func\n});\n\n_defineProperty(BasePopup, \"contextTypes\", {\n  rcTreeSelect: PropTypes.shape(_objectSpread({}, popupContextTypes))\n});\n\npolyfill(BasePopup);\nexport default BasePopup;","map":{"version":3,"sources":["/home/devrobot/Escritorio/ecommerce-frontend/node_modules/rc-tree-select/es/Base/BasePopup.js"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_extends","assign","prototype","hasOwnProperty","call","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","configurable","writable","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","create","constructor","value","_setPrototypeOf","p","obj","React","PropTypes","polyfill","Tree","createRef","popupContextTypes","onPopupKeyDown","func","isRequired","onTreeNodeSelect","onTreeNodeCheck","BasePopup","_React$Component","_this","expandedKeyList","_this$props","treeExpandedKeys","onTreeExpand","onTreeExpanded","setState","loadedKeys","treeRef","current","_this$props2","loadData","upperSearchValue","treeNode","_this$props3","treeNodeFilterProp","filterVal","toUpperCase","indexOf","_this$props4","prefixCls","notFoundContent","createElement","className","concat","treeDefaultExpandAll","treeDefaultExpandedKeys","keyEntities","_expandedKeyList","state","keyList","cachedExpandedKeyList","render","_this$state","_this$props5","treeNodes","filteredTreeNodes","treeIcon","treeLine","treeCheckable","treeCheckStrictly","multiple","ariaId","renderSearch","switcherIcon","searchHalfCheckedKeys","_this$context$rcTreeS","context","rcTreeSelect","getLoadData","treeProps","checkedKeys","selectedKeys","$notFound","$treeNodes","checkStrictly","checked","halfChecked","renderNotFound","$tree","ref","showIcon","showLine","selectable","checkable","expandedKeys","filterTreeNode","onSelect","onCheck","onExpand","onLoad","role","id","onKeyDown","tabIndex","getDerivedStateFromProps","nextProps","prevState","_ref","_ref$prevProps","prevProps","valueList","valueEntities","newState","map","_ref2","entity","_ref3","Component","string","array","bool","oneOfType","node","shape"],"mappings":"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","sourcesContent":["function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { polyfill } from 'react-lifecycles-compat';\nimport Tree from 'rc-tree';\nimport { createRef } from '../util';\nexport var popupContextTypes = {\n  onPopupKeyDown: PropTypes.func.isRequired,\n  onTreeNodeSelect: PropTypes.func.isRequired,\n  onTreeNodeCheck: PropTypes.func.isRequired\n};\n\nvar BasePopup =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(BasePopup, _React$Component);\n\n  function BasePopup(props) {\n    var _this;\n\n    _classCallCheck(this, BasePopup);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(BasePopup).call(this));\n\n    _defineProperty(_assertThisInitialized(_this), \"onTreeExpand\", function (expandedKeyList) {\n      var _this$props = _this.props,\n          treeExpandedKeys = _this$props.treeExpandedKeys,\n          onTreeExpand = _this$props.onTreeExpand,\n          onTreeExpanded = _this$props.onTreeExpanded; // Set uncontrolled state\n\n      if (!treeExpandedKeys) {\n        _this.setState({\n          expandedKeyList: expandedKeyList\n        }, onTreeExpanded);\n      }\n\n      if (onTreeExpand) {\n        onTreeExpand(expandedKeyList);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onLoad\", function (loadedKeys) {\n      _this.setState({\n        loadedKeys: loadedKeys\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getTree\", function () {\n      return _this.treeRef.current;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getLoadData\", function () {\n      var _this$props2 = _this.props,\n          loadData = _this$props2.loadData,\n          upperSearchValue = _this$props2.upperSearchValue;\n      if (upperSearchValue) return null;\n      return loadData;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"filterTreeNode\", function (treeNode) {\n      var _this$props3 = _this.props,\n          upperSearchValue = _this$props3.upperSearchValue,\n          treeNodeFilterProp = _this$props3.treeNodeFilterProp;\n      var filterVal = treeNode.props[treeNodeFilterProp];\n\n      if (typeof filterVal === 'string') {\n        return upperSearchValue && filterVal.toUpperCase().indexOf(upperSearchValue) !== -1;\n      }\n\n      return false;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderNotFound\", function () {\n      var _this$props4 = _this.props,\n          prefixCls = _this$props4.prefixCls,\n          notFoundContent = _this$props4.notFoundContent;\n      return React.createElement(\"span\", {\n        className: \"\".concat(prefixCls, \"-not-found\")\n      }, notFoundContent);\n    });\n\n    var treeDefaultExpandAll = props.treeDefaultExpandAll,\n        treeDefaultExpandedKeys = props.treeDefaultExpandedKeys,\n        keyEntities = props.keyEntities; // TODO: make `expandedKeyList` control\n\n    var _expandedKeyList = treeDefaultExpandedKeys;\n\n    if (treeDefaultExpandAll) {\n      _expandedKeyList = Object.keys(keyEntities);\n    }\n\n    _this.state = {\n      keyList: [],\n      expandedKeyList: _expandedKeyList,\n      // Cache `expandedKeyList` when tree is in filter. This is used in `getDerivedStateFromProps`\n      cachedExpandedKeyList: [],\n      // eslint-disable-line react/no-unused-state\n      loadedKeys: []\n    };\n    _this.treeRef = createRef();\n    return _this;\n  }\n\n  _createClass(BasePopup, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          keyList = _this$state.keyList,\n          expandedKeyList = _this$state.expandedKeyList,\n          loadedKeys = _this$state.loadedKeys;\n      var _this$props5 = this.props,\n          prefixCls = _this$props5.prefixCls,\n          treeNodes = _this$props5.treeNodes,\n          filteredTreeNodes = _this$props5.filteredTreeNodes,\n          treeIcon = _this$props5.treeIcon,\n          treeLine = _this$props5.treeLine,\n          treeCheckable = _this$props5.treeCheckable,\n          treeCheckStrictly = _this$props5.treeCheckStrictly,\n          multiple = _this$props5.multiple,\n          ariaId = _this$props5.ariaId,\n          renderSearch = _this$props5.renderSearch,\n          switcherIcon = _this$props5.switcherIcon,\n          searchHalfCheckedKeys = _this$props5.searchHalfCheckedKeys;\n      var _this$context$rcTreeS = this.context.rcTreeSelect,\n          onPopupKeyDown = _this$context$rcTreeS.onPopupKeyDown,\n          onTreeNodeSelect = _this$context$rcTreeS.onTreeNodeSelect,\n          onTreeNodeCheck = _this$context$rcTreeS.onTreeNodeCheck;\n      var loadData = this.getLoadData();\n      var treeProps = {};\n\n      if (treeCheckable) {\n        treeProps.checkedKeys = keyList;\n      } else {\n        treeProps.selectedKeys = keyList;\n      }\n\n      var $notFound;\n      var $treeNodes;\n\n      if (filteredTreeNodes) {\n        if (filteredTreeNodes.length) {\n          treeProps.checkStrictly = true;\n          $treeNodes = filteredTreeNodes; // Fill halfCheckedKeys\n\n          if (treeCheckable && !treeCheckStrictly) {\n            treeProps.checkedKeys = {\n              checked: keyList,\n              halfChecked: searchHalfCheckedKeys\n            };\n          }\n        } else {\n          $notFound = this.renderNotFound();\n        }\n      } else if (!treeNodes || !treeNodes.length) {\n        $notFound = this.renderNotFound();\n      } else {\n        $treeNodes = treeNodes;\n      }\n\n      var $tree;\n\n      if ($notFound) {\n        $tree = $notFound;\n      } else {\n        $tree = React.createElement(Tree, _extends({\n          ref: this.treeRef,\n          prefixCls: \"\".concat(prefixCls, \"-tree\"),\n          showIcon: treeIcon,\n          showLine: treeLine,\n          selectable: !treeCheckable,\n          checkable: treeCheckable,\n          checkStrictly: treeCheckStrictly,\n          multiple: multiple,\n          loadData: loadData,\n          loadedKeys: loadedKeys,\n          expandedKeys: expandedKeyList,\n          filterTreeNode: this.filterTreeNode,\n          onSelect: onTreeNodeSelect,\n          onCheck: onTreeNodeCheck,\n          onExpand: this.onTreeExpand,\n          onLoad: this.onLoad,\n          switcherIcon: switcherIcon\n        }, treeProps), $treeNodes);\n      }\n\n      return React.createElement(\"div\", {\n        role: \"listbox\",\n        id: ariaId,\n        onKeyDown: onPopupKeyDown,\n        tabIndex: -1\n      }, renderSearch ? renderSearch() : null, $tree);\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var _ref = prevState || {},\n          _ref$prevProps = _ref.prevProps,\n          prevProps = _ref$prevProps === void 0 ? {} : _ref$prevProps,\n          loadedKeys = _ref.loadedKeys,\n          expandedKeyList = _ref.expandedKeyList,\n          cachedExpandedKeyList = _ref.cachedExpandedKeyList;\n\n      var valueList = nextProps.valueList,\n          valueEntities = nextProps.valueEntities,\n          keyEntities = nextProps.keyEntities,\n          treeExpandedKeys = nextProps.treeExpandedKeys,\n          filteredTreeNodes = nextProps.filteredTreeNodes,\n          upperSearchValue = nextProps.upperSearchValue;\n      var newState = {\n        prevProps: nextProps\n      }; // Check value update\n\n      if (valueList !== prevProps.valueList) {\n        newState.keyList = valueList.map(function (_ref2) {\n          var value = _ref2.value;\n          return valueEntities[value];\n        }).filter(function (entity) {\n          return entity;\n        }).map(function (_ref3) {\n          var key = _ref3.key;\n          return key;\n        });\n      } // Show all when tree is in filter mode\n\n\n      if (!treeExpandedKeys && filteredTreeNodes && filteredTreeNodes.length && filteredTreeNodes !== prevProps.filteredTreeNodes) {\n        newState.expandedKeyList = Object.keys(keyEntities);\n      } // Cache `expandedKeyList` when filter set\n\n\n      if (upperSearchValue && !prevProps.upperSearchValue) {\n        newState.cachedExpandedKeyList = expandedKeyList;\n      } else if (!upperSearchValue && prevProps.upperSearchValue && !treeExpandedKeys) {\n        newState.expandedKeyList = cachedExpandedKeyList || [];\n        newState.cachedExpandedKeyList = [];\n      } // Use expandedKeys if provided\n\n\n      if (prevProps.treeExpandedKeys !== treeExpandedKeys) {\n        newState.expandedKeyList = treeExpandedKeys;\n      } // Clean loadedKeys if key not exist in keyEntities anymore\n\n\n      if (nextProps.loadData) {\n        newState.loadedKeys = loadedKeys.filter(function (key) {\n          return key in keyEntities;\n        });\n      }\n\n      return newState;\n    }\n  }]);\n\n  return BasePopup;\n}(React.Component);\n\n_defineProperty(BasePopup, \"propTypes\", {\n  prefixCls: PropTypes.string,\n  upperSearchValue: PropTypes.string,\n  valueList: PropTypes.array,\n  searchHalfCheckedKeys: PropTypes.array,\n  valueEntities: PropTypes.object,\n  keyEntities: PropTypes.object,\n  treeIcon: PropTypes.bool,\n  treeLine: PropTypes.bool,\n  treeNodeFilterProp: PropTypes.string,\n  treeCheckable: PropTypes.oneOfType([PropTypes.bool, PropTypes.node]),\n  treeCheckStrictly: PropTypes.bool,\n  treeDefaultExpandAll: PropTypes.bool,\n  treeDefaultExpandedKeys: PropTypes.array,\n  treeExpandedKeys: PropTypes.array,\n  loadData: PropTypes.func,\n  multiple: PropTypes.bool,\n  onTreeExpand: PropTypes.func,\n  treeNodes: PropTypes.node,\n  filteredTreeNodes: PropTypes.node,\n  notFoundContent: PropTypes.node,\n  ariaId: PropTypes.string,\n  switcherIcon: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  // HOC\n  renderSearch: PropTypes.func,\n  onTreeExpanded: PropTypes.func\n});\n\n_defineProperty(BasePopup, \"contextTypes\", {\n  rcTreeSelect: PropTypes.shape(_objectSpread({}, popupContextTypes))\n});\n\npolyfill(BasePopup);\nexport default BasePopup;"]},"metadata":{},"sourceType":"module"}