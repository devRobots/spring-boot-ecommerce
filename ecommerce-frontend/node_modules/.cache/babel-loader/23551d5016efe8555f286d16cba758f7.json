{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nexports.convertFieldsError = convertFieldsError;\nexports.format = format;\nexports.isEmptyValue = isEmptyValue;\nexports.isEmptyObject = isEmptyObject;\nexports.asyncMap = asyncMap;\nexports.complementError = complementError;\nexports.deepMerge = deepMerge;\n/* eslint no-console:0 */\n\nvar formatRegExp = /%[sdj%]/g;\n\nvar warning = exports.warning = function warning() {}; // don't print warning message when in production env or node runtime\n\n\nif (process.env.NODE_ENV !== 'production' && typeof window !== 'undefined' && typeof document !== 'undefined') {\n  exports.warning = warning = function warning(type, errors) {\n    if (typeof console !== 'undefined' && console.warn) {\n      if (errors.every(function (e) {\n        return typeof e === 'string';\n      })) {\n        console.warn(type, errors);\n      }\n    }\n  };\n}\n\nfunction convertFieldsError(errors) {\n  if (!errors || !errors.length) return null;\n  var fields = {};\n  errors.forEach(function (error) {\n    var field = error.field;\n    fields[field] = fields[field] || [];\n    fields[field].push(error);\n  });\n  return fields;\n}\n\nfunction format() {\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  var i = 1;\n  var f = args[0];\n  var len = args.length;\n\n  if (typeof f === 'function') {\n    return f.apply(null, args.slice(1));\n  }\n\n  if (typeof f === 'string') {\n    var str = String(f).replace(formatRegExp, function (x) {\n      if (x === '%%') {\n        return '%';\n      }\n\n      if (i >= len) {\n        return x;\n      }\n\n      switch (x) {\n        case '%s':\n          return String(args[i++]);\n\n        case '%d':\n          return Number(args[i++]);\n\n        case '%j':\n          try {\n            return JSON.stringify(args[i++]);\n          } catch (_) {\n            return '[Circular]';\n          }\n\n          break;\n\n        default:\n          return x;\n      }\n    });\n\n    for (var arg = args[i]; i < len; arg = args[++i]) {\n      str += ' ' + arg;\n    }\n\n    return str;\n  }\n\n  return f;\n}\n\nfunction isNativeStringType(type) {\n  return type === 'string' || type === 'url' || type === 'hex' || type === 'email' || type === 'pattern';\n}\n\nfunction isEmptyValue(value, type) {\n  if (value === undefined || value === null) {\n    return true;\n  }\n\n  if (type === 'array' && Array.isArray(value) && !value.length) {\n    return true;\n  }\n\n  if (isNativeStringType(type) && typeof value === 'string' && !value) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction isEmptyObject(obj) {\n  return Object.keys(obj).length === 0;\n}\n\nfunction asyncParallelArray(arr, func, callback) {\n  var results = [];\n  var total = 0;\n  var arrLength = arr.length;\n\n  function count(errors) {\n    results.push.apply(results, errors);\n    total++;\n\n    if (total === arrLength) {\n      callback(results);\n    }\n  }\n\n  arr.forEach(function (a) {\n    func(a, count);\n  });\n}\n\nfunction asyncSerialArray(arr, func, callback) {\n  var index = 0;\n  var arrLength = arr.length;\n\n  function next(errors) {\n    if (errors && errors.length) {\n      callback(errors);\n      return;\n    }\n\n    var original = index;\n    index = index + 1;\n\n    if (original < arrLength) {\n      func(arr[original], next);\n    } else {\n      callback([]);\n    }\n  }\n\n  next([]);\n}\n\nfunction flattenObjArr(objArr) {\n  var ret = [];\n  Object.keys(objArr).forEach(function (k) {\n    ret.push.apply(ret, objArr[k]);\n  });\n  return ret;\n}\n\nfunction asyncMap(objArr, option, func, callback) {\n  if (option.first) {\n    var flattenArr = flattenObjArr(objArr);\n    return asyncSerialArray(flattenArr, func, callback);\n  }\n\n  var firstFields = option.firstFields || [];\n\n  if (firstFields === true) {\n    firstFields = Object.keys(objArr);\n  }\n\n  var objArrKeys = Object.keys(objArr);\n  var objArrLength = objArrKeys.length;\n  var total = 0;\n  var results = [];\n  var pending = new Promise(function (resolve, reject) {\n    var next = function next(errors) {\n      results.push.apply(results, errors);\n      total++;\n\n      if (total === objArrLength) {\n        callback(results);\n        return results.length ? reject({\n          errors: results,\n          fields: convertFieldsError(results)\n        }) : resolve();\n      }\n    };\n\n    objArrKeys.forEach(function (key) {\n      var arr = objArr[key];\n\n      if (firstFields.indexOf(key) !== -1) {\n        asyncSerialArray(arr, func, next);\n      } else {\n        asyncParallelArray(arr, func, next);\n      }\n    });\n  });\n  pending['catch'](function (e) {\n    return e;\n  });\n  return pending;\n}\n\nfunction complementError(rule) {\n  return function (oe) {\n    if (oe && oe.message) {\n      oe.field = oe.field || rule.fullField;\n      return oe;\n    }\n\n    return {\n      message: typeof oe === 'function' ? oe() : oe,\n      field: oe.field || rule.fullField\n    };\n  };\n}\n\nfunction deepMerge(target, source) {\n  if (source) {\n    for (var s in source) {\n      if (source.hasOwnProperty(s)) {\n        var value = source[s];\n\n        if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && _typeof(target[s]) === 'object') {\n          target[s] = _extends({}, target[s], value);\n        } else {\n          target[s] = value;\n        }\n      }\n    }\n  }\n\n  return target;\n}","map":{"version":3,"sources":["/home/devrobot/Escritorio/ecommerce-frontend/node_modules/async-validator/es/util.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_typeof","Symbol","iterator","obj","constructor","convertFieldsError","format","isEmptyValue","isEmptyObject","asyncMap","complementError","deepMerge","formatRegExp","warning","process","env","NODE_ENV","window","document","type","errors","console","warn","every","e","fields","forEach","error","field","push","_len","args","Array","_key","f","len","apply","slice","str","String","replace","x","Number","JSON","stringify","_","arg","isNativeStringType","undefined","isArray","keys","asyncParallelArray","arr","func","callback","results","total","arrLength","count","a","asyncSerialArray","index","next","original","flattenObjArr","objArr","ret","k","option","first","flattenArr","firstFields","objArrKeys","objArrLength","pending","Promise","resolve","reject","indexOf","rule","oe","message","fullField","s"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.convertFieldsError = convertFieldsError;\nexports.format = format;\nexports.isEmptyValue = isEmptyValue;\nexports.isEmptyObject = isEmptyObject;\nexports.asyncMap = asyncMap;\nexports.complementError = complementError;\nexports.deepMerge = deepMerge;\n/* eslint no-console:0 */\n\nvar formatRegExp = /%[sdj%]/g;\n\nvar warning = exports.warning = function warning() {};\n\n// don't print warning message when in production env or node runtime\nif (process.env.NODE_ENV !== 'production' && typeof window !== 'undefined' && typeof document !== 'undefined') {\n  exports.warning = warning = function warning(type, errors) {\n    if (typeof console !== 'undefined' && console.warn) {\n      if (errors.every(function (e) {\n        return typeof e === 'string';\n      })) {\n        console.warn(type, errors);\n      }\n    }\n  };\n}\n\nfunction convertFieldsError(errors) {\n  if (!errors || !errors.length) return null;\n  var fields = {};\n  errors.forEach(function (error) {\n    var field = error.field;\n    fields[field] = fields[field] || [];\n    fields[field].push(error);\n  });\n  return fields;\n}\n\nfunction format() {\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  var i = 1;\n  var f = args[0];\n  var len = args.length;\n  if (typeof f === 'function') {\n    return f.apply(null, args.slice(1));\n  }\n  if (typeof f === 'string') {\n    var str = String(f).replace(formatRegExp, function (x) {\n      if (x === '%%') {\n        return '%';\n      }\n      if (i >= len) {\n        return x;\n      }\n      switch (x) {\n        case '%s':\n          return String(args[i++]);\n        case '%d':\n          return Number(args[i++]);\n        case '%j':\n          try {\n            return JSON.stringify(args[i++]);\n          } catch (_) {\n            return '[Circular]';\n          }\n          break;\n        default:\n          return x;\n      }\n    });\n    for (var arg = args[i]; i < len; arg = args[++i]) {\n      str += ' ' + arg;\n    }\n    return str;\n  }\n  return f;\n}\n\nfunction isNativeStringType(type) {\n  return type === 'string' || type === 'url' || type === 'hex' || type === 'email' || type === 'pattern';\n}\n\nfunction isEmptyValue(value, type) {\n  if (value === undefined || value === null) {\n    return true;\n  }\n  if (type === 'array' && Array.isArray(value) && !value.length) {\n    return true;\n  }\n  if (isNativeStringType(type) && typeof value === 'string' && !value) {\n    return true;\n  }\n  return false;\n}\n\nfunction isEmptyObject(obj) {\n  return Object.keys(obj).length === 0;\n}\n\nfunction asyncParallelArray(arr, func, callback) {\n  var results = [];\n  var total = 0;\n  var arrLength = arr.length;\n\n  function count(errors) {\n    results.push.apply(results, errors);\n    total++;\n    if (total === arrLength) {\n      callback(results);\n    }\n  }\n\n  arr.forEach(function (a) {\n    func(a, count);\n  });\n}\n\nfunction asyncSerialArray(arr, func, callback) {\n  var index = 0;\n  var arrLength = arr.length;\n\n  function next(errors) {\n    if (errors && errors.length) {\n      callback(errors);\n      return;\n    }\n    var original = index;\n    index = index + 1;\n    if (original < arrLength) {\n      func(arr[original], next);\n    } else {\n      callback([]);\n    }\n  }\n\n  next([]);\n}\n\nfunction flattenObjArr(objArr) {\n  var ret = [];\n  Object.keys(objArr).forEach(function (k) {\n    ret.push.apply(ret, objArr[k]);\n  });\n  return ret;\n}\n\nfunction asyncMap(objArr, option, func, callback) {\n  if (option.first) {\n    var flattenArr = flattenObjArr(objArr);\n    return asyncSerialArray(flattenArr, func, callback);\n  }\n  var firstFields = option.firstFields || [];\n  if (firstFields === true) {\n    firstFields = Object.keys(objArr);\n  }\n  var objArrKeys = Object.keys(objArr);\n  var objArrLength = objArrKeys.length;\n  var total = 0;\n  var results = [];\n  var pending = new Promise(function (resolve, reject) {\n    var next = function next(errors) {\n      results.push.apply(results, errors);\n      total++;\n      if (total === objArrLength) {\n        callback(results);\n        return results.length ? reject({ errors: results, fields: convertFieldsError(results) }) : resolve();\n      }\n    };\n    objArrKeys.forEach(function (key) {\n      var arr = objArr[key];\n      if (firstFields.indexOf(key) !== -1) {\n        asyncSerialArray(arr, func, next);\n      } else {\n        asyncParallelArray(arr, func, next);\n      }\n    });\n  });\n  pending['catch'](function (e) {\n    return e;\n  });\n  return pending;\n}\n\nfunction complementError(rule) {\n  return function (oe) {\n    if (oe && oe.message) {\n      oe.field = oe.field || rule.fullField;\n      return oe;\n    }\n    return {\n      message: typeof oe === 'function' ? oe() : oe,\n      field: oe.field || rule.fullField\n    };\n  };\n}\n\nfunction deepMerge(target, source) {\n  if (source) {\n    for (var s in source) {\n      if (source.hasOwnProperty(s)) {\n        var value = source[s];\n        if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && _typeof(target[s]) === 'object') {\n          target[s] = _extends({}, target[s], value);\n        } else {\n          target[s] = value;\n        }\n      }\n    }\n  }\n  return target;\n}"]},"metadata":{},"sourceType":"script"}